/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/multiple-select-js@1.2.6/dist/js/multiple-select.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function (e) { var t = {}; function n(i) { if (t[i]) return t[i].exports; var s = t[i] = { i: i, l: !1, exports: {} }; return e[i].call(s.exports, s, s.exports, n), s.l = !0, s.exports } n.m = e, n.c = t, n.d = function (e, t, i) { n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: i }) }, n.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.t = function (e, t) { if (1 & t && (e = n(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var i = Object.create(null); if (n.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var s in e) n.d(i, s, function (t) { return e[t] }.bind(null, s)); return i }, n.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return n.d(t, "a", t), t }, n.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, n.p = "", n(n.s = "./src/MultipleSelect.js") }({ "./node_modules/events/events.js": function (e, t, n) { "use strict"; var i, s = "object" == typeof Reflect ? Reflect : null, r = s && "function" == typeof s.apply ? s.apply : function (e, t, n) { return Function.prototype.apply.call(e, t, n) }; i = s && "function" == typeof s.ownKeys ? s.ownKeys : Object.getOwnPropertySymbols ? function (e) { return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)) } : function (e) { return Object.getOwnPropertyNames(e) }; var o = Number.isNaN || function (e) { return e != e }; function l() { l.init.call(this) } e.exports = l, l.EventEmitter = l, l.prototype._events = void 0, l.prototype._eventsCount = 0, l.prototype._maxListeners = void 0; var d = 10; function u(e) { return void 0 === e._maxListeners ? l.defaultMaxListeners : e._maxListeners } function h(e, t, n, i) { var s, r, o, l; if ("function" != typeof n) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof n); if (void 0 === (r = e._events) ? (r = e._events = Object.create(null), e._eventsCount = 0) : (void 0 !== r.newListener && (e.emit("newListener", t, n.listener ? n.listener : n), r = e._events), o = r[t]), void 0 === o) o = r[t] = n, ++e._eventsCount; else if ("function" == typeof o ? o = r[t] = i ? [n, o] : [o, n] : i ? o.unshift(n) : o.push(n), (s = u(e)) > 0 && o.length > s && !o.warned) { o.warned = !0; var d = new Error("Possible EventEmitter memory leak detected. " + o.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit"); d.name = "MaxListenersExceededWarning", d.emitter = e, d.type = t, d.count = o.length, l = d, console && console.warn && console.warn(l) } return e } function c(e, t, n) { var i = { fired: !1, wrapFn: void 0, target: e, type: t, listener: n }, s = function () { for (var e = [], t = 0; t < arguments.length; t++)e.push(arguments[t]); this.fired || (this.target.removeListener(this.type, this.wrapFn), this.fired = !0, r(this.listener, this.target, e)) }.bind(i); return s.listener = n, i.wrapFn = s, s } function a(e, t, n) { var i = e._events; if (void 0 === i) return []; var s = i[t]; return void 0 === s ? [] : "function" == typeof s ? n ? [s.listener || s] : [s] : n ? function (e) { for (var t = new Array(e.length), n = 0; n < t.length; ++n)t[n] = e[n].listener || e[n]; return t }(s) : m(s, s.length) } function p(e) { var t = this._events; if (void 0 !== t) { var n = t[e]; if ("function" == typeof n) return 1; if (void 0 !== n) return n.length } return 0 } function m(e, t) { for (var n = new Array(t), i = 0; i < t; ++i)n[i] = e[i]; return n } Object.defineProperty(l, "defaultMaxListeners", { enumerable: !0, get: function () { return d }, set: function (e) { if ("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + "."); d = e } }), l.init = function () { void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0 }, l.prototype.setMaxListeners = function (e) { if ("number" != typeof e || e < 0 || o(e)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + "."); return this._maxListeners = e, this }, l.prototype.getMaxListeners = function () { return u(this) }, l.prototype.emit = function (e) { for (var t = [], n = 1; n < arguments.length; n++)t.push(arguments[n]); var i = "error" === e, s = this._events; if (void 0 !== s) i = i && void 0 === s.error; else if (!i) return !1; if (i) { var o; if (t.length > 0 && (o = t[0]), o instanceof Error) throw o; var l = new Error("Unhandled error." + (o ? " (" + o.message + ")" : "")); throw l.context = o, l } var d = s[e]; if (void 0 === d) return !1; if ("function" == typeof d) r(d, this, t); else { var u = d.length, h = m(d, u); for (n = 0; n < u; ++n)r(h[n], this, t) } return !0 }, l.prototype.addListener = function (e, t) { return h(this, e, t, !1) }, l.prototype.on = l.prototype.addListener, l.prototype.prependListener = function (e, t) { return h(this, e, t, !0) }, l.prototype.once = function (e, t) { if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t); return this.on(e, c(this, e, t)), this }, l.prototype.prependOnceListener = function (e, t) { if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t); return this.prependListener(e, c(this, e, t)), this }, l.prototype.removeListener = function (e, t) { var n, i, s, r, o; if ("function" != typeof t) throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof t); if (void 0 === (i = this._events)) return this; if (void 0 === (n = i[e])) return this; if (n === t || n.listener === t) 0 == --this._eventsCount ? this._events = Object.create(null) : (delete i[e], i.removeListener && this.emit("removeListener", e, n.listener || t)); else if ("function" != typeof n) { for (s = -1, r = n.length - 1; r >= 0; r--)if (n[r] === t || n[r].listener === t) { o = n[r].listener, s = r; break } if (s < 0) return this; 0 === s ? n.shift() : function (e, t) { for (; t + 1 < e.length; t++)e[t] = e[t + 1]; e.pop() }(n, s), 1 === n.length && (i[e] = n[0]), void 0 !== i.removeListener && this.emit("removeListener", e, o || t) } return this }, l.prototype.off = l.prototype.removeListener, l.prototype.removeAllListeners = function (e) { var t, n, i; if (void 0 === (n = this._events)) return this; if (void 0 === n.removeListener) return 0 === arguments.length ? (this._events = Object.create(null), this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]), this; if (0 === arguments.length) { var s, r = Object.keys(n); for (i = 0; i < r.length; ++i)"removeListener" !== (s = r[i]) && this.removeAllListeners(s); return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this } if ("function" == typeof (t = n[e])) this.removeListener(e, t); else if (void 0 !== t) for (i = t.length - 1; i >= 0; i--)this.removeListener(e, t[i]); return this }, l.prototype.listeners = function (e) { return a(this, e, !0) }, l.prototype.rawListeners = function (e) { return a(this, e, !1) }, l.listenerCount = function (e, t) { return "function" == typeof e.listenerCount ? e.listenerCount(t) : p.call(e, t) }, l.prototype.listenerCount = p, l.prototype.eventNames = function () { return this._eventsCount > 0 ? i(this._events) : [] } }, "./src/MultipleSelect.js": function (e, t, n) { "use strict"; n.r(t); var i = n("./src/components/Container.js"), s = n("./src/store/Store.js"), r = (n("./src/scss/multiple-select.scss"), 0); class o { constructor(e, t) { r++; this.$store = new s.a; let { el: n, select: o, isMultiple: l, items: d, selectedItems: u } = this._buildRootElement(e); this.$el = n, this.$select = o, this.$options = { ...{ placeholder: "Select" }, ...t }, this.$store.isMultiple = l, this.$store.items = d, this.$store.selectedItems = u, this.$container = new i.a({ root: this }), this.$store.on("selectedItemsChange", e => { this.$select.querySelectorAll("option").forEach(t => { e.find(e => e.value === t.value) ? t.setAttribute("selected", !0) : t.removeAttribute("selected") }), e.length < 1 && (this.$select.value = ""); const t = document.createEvent("HTMLEvents"); t.initEvent("change", !0, !0); const n = document.createEvent("HTMLEvents"); n.initEvent("input", !0, !0), this.$select.dispatchEvent(t), this.$select.dispatchEvent(n) }), new MutationObserver(() => { this.$el.classList.contains("opened") && this.$container.$dropdownSelect.$input.focus() }).observe(this.$el, { attributes: !0, childList: !0 }) } _buildRootElement(e) { let t = document.querySelector(e), n = document.createElement("div"), i = [], s = []; n.setAttribute("id", `multiple-select-container-${r}`), n.style.position = "relative", t.querySelectorAll("option").forEach(e => { i.push({ value: e.value, label: e.innerText.trim(), disabled: e.disabled }) }), t.querySelectorAll("option[selected]").forEach(e => { s.push({ value: e.value, label: e.innerText.trim() }) }); let o = t.multiple; return t.insertAdjacentElement("afterend", n), t.hidden = !0, { select: t, el: n, isMultiple: o, items: i, selectedItems: s } } } window.MultipleSelect = o, t.default = o }, "./src/components/Container.js": function (e, t, n) { "use strict"; var i = n("./src/components/dropdown/DropdownSelect.js"), s = n("./src/components/SelectButton.js"); t.a = class { constructor({ root: e }) { this.$root = e, this._buildButton(), this._buildDropdownSelect(), this.$button.render(), this._keyupEventListeners(), this.$root.$store.on("selectedItemsChange", () => { this.$button.render() }), this.$root.$store.on("isOpenedChange", e => { this.$button.render(), this._toggleDropdown() }), document.addEventListener("click", e => { this.$root.$store.isOpened && (this.$root.$el.contains(e.target) || (this.$root.$store.isOpened = !1)) }) } _buildButton() { this.$button = new s.a({ root: this.$root }), this.$root.$el.appendChild(this.$button.el) } _buildDropdownSelect() { this.$dropdownSelect = new i.a({ container: this }) } _toggleDropdown() { this.$root.$store.isOpened ? this.$root.$el.classList.add("opened") : this.$root.$el.classList.remove("opened") } _keyupEventListeners() { this.$root.$el.addEventListener("keyup", e => { "Escape" === e.code && (this.$root.$store.isOpened = !1) }) } } }, "./src/components/SearchInput.js": function (e, t, n) { "use strict"; t.a = class { constructor({ root: e, dropdownSelect: t }) { this.$root = e, this.$dropdownSelect = t, this.render() } get el() { return this._inputContainer } focus() { this._input.focus() } _build() { this._input = document.createElement("input"), this._input.classList.add("form-control"), this._input.setAttribute("placeholder", "Search"), this._input.setAttribute("type", "text"), this._input.setAttribute("autofocus", !0), this._inputContainer = document.createElement("div"), this._inputContainer.classList.add("p-2"), this._inputContainer.appendChild(this._input), this._registerEventListeners() } _registerEventListeners() { this._input.addEventListener("keydown", e => { if ("ArrowUp" === e.code || "ArrowDown" === e.code || "Enter" === e.code) return e.preventDefault(), "ArrowUp" === e.code ? null === this.$root.$store.hoveredItemIndex ? this.$root.$store.hoveredItemIndex = this.$root.$store.items.length - 1 : this.$root.$store.hoveredItemIndex > 0 && this.$root.$store.hoveredItemIndex-- : "ArrowDown" === e.code && (null === this.$root.$store.hoveredItemIndex ? this.$root.$store.hoveredItemIndex = 0 : this.$root.$store.hoveredItemIndex < this.$root.$store.items.length - 1 && this.$root.$store.hoveredItemIndex++), !1 }), this._input.addEventListener("keyup", e => { if ("ArrowUp" !== e.code && "ArrowDown" !== e.code && (this.$root.$store.keyword = this._input.value), "Enter" === e.code && null !== this.$root.$store.hoveredItemIndex) { let e = this.$root.$store.filteredItems[this.$root.$store.hoveredItemIndex], t = this.$root.$store.selectedItems, n = t.findIndex(t => t.value === e.value); n > -1 ? t.splice(n, 1) : this.$root.$store.isMultiple ? t.push(e) : (t = [e], this.$root.$store.isOpened = !1), this.$root.$store.selectedItems = t, console.log(e, { index: n }) } }) } render() { this._input || this._build() } } }, "./src/components/SelectButton.js": function (e, t, n) { "use strict"; t.a = class { constructor({ root: e }) { this.$root = e, this.render() } _build() { this._button = document.createElement("button"), this._button.classList.add("form-control", "d-flex", "justify-content-between", "align-items-center"), this._button.setAttribute("type", "button"); let e = document.createElement("span"); e.setAttribute("class", "content"), e.innerText = this.$root.$options.placeholder || "Select"; let t = document.createElement("span"); t.classList.add("caret"), t.innerHTML = "&#9662;", t.style.fontSize = "70%", this._button.addEventListener("click", e => { this.$root.$store.isOpened = !this.$root.$store.isOpened }), this._button.appendChild(e), this._button.appendChild(t) } get el() { return this._button } render() { this._button || this._build(); let e = this.$root.$store.selectedItems, t = null; t = this.$root.$store.isMultiple && e.length ? `${e.length} selected` : e.length ? e[0].label : this.$root.$options.placeholder || "Select", this._button.querySelector("span.content").innerText = t, this.$root.$store.isOpened ? this._button.querySelector("span.caret").innerHTML = "&#9652;" : this._button.querySelector("span.caret").innerHTML = "&#9662;" } } }, "./src/components/dropdown/DropdownSelect.js": function (e, t, n) { "use strict"; var i = n("./src/components/SearchInput.js"), s = n("./src/components/dropdown/Item.js"); t.a = class { constructor({ container: e }) { this.$container = e, this.$dropdownSelect = null, this.$ulElement = null, this.$input = null, this.$optionItems = [], this._buildDropdownSelect(), this._eventListeners(), this._buildSearchInput(), this._buildOptionItems(), this._rerenderOptionsItems() } _buildDropdownSelect() { this.$dropdownSelect = document.createElement("div"), this.$dropdownSelect.classList.add("dropdown-select", "bg-white", "shadow"), this.$container.$root.$el.appendChild(this.$dropdownSelect) } _buildSearchInput() { this.$input = new i.a({ root: this.$container.$root, dropdownSelect: this }), this.$dropdownSelect.appendChild(this.$input.el), this.$input.render() } _buildOptionItems() { let e = this.$ulElement; for (this.$optionItems = [], e || ((e = document.createElement("ul")).classList.add("list-group", "mt-0"), this.$dropdownSelect.appendChild(e), this.$ulElement = e); e.lastChild;)e.removeChild(e.lastChild); if (this.filteredItems.forEach((t, n) => { let i = new s.a({ root: this.$container.$root, dropdownSelect: this, item: t, index: n }); this.$optionItems.push(i), e.appendChild(i.el) }), this.filteredItems.length < 1) { let t = document.createElement("li"); t.classList.add("list-group-item", "d-flex", "flex-row", "justify-content-between", "p-2", "rounded-0", "list-group-item-secondary"), t.innerText = "No items.", e.appendChild(t) } } _rerenderOptionsItems() { this.$optionItems.forEach(e => { e.render() }), this._setDropdownMaxHeight() } _setDropdownMaxHeight() { let e = this.$dropdownSelect.getBoundingClientRect().y, t = window.innerHeight - e - 10; t -= this.$input.el.clientHeight, this.$ulElement.style.maxHeight = `${t}px` } _eventListeners() { window.addEventListener("resize", this._onWindowResize.bind(this)), window.addEventListener("scroll", this._onWindowResize.bind(this)), this.$container.$root.$store.on("isOpenedChange", e => { e && setTimeout(() => { this._setDropdownMaxHeight() }, 100) }), this.$container.$root.$store.on("keywordChange", () => { this._buildOptionItems(), this._rerenderOptionsItems() }), this.$container.$root.$store.on("selectedItemsChange", () => { this._rerenderOptionsItems() }), this.$container.$root.$store.on("hoveredItemIndexChange", e => { this._rerenderOptionsItems() }) } _onWindowResize(e) { this.$container.$root.$store.isOpened && this._setDropdownMaxHeight() } get filteredItems() { return this.$container.$root.$store.filteredItems } } }, "./src/components/dropdown/Item.js": function (e, t, n) { "use strict"; t.a = class { constructor({ root: e, dropdownSelect: t, item: n, index: i }) { this.$root = e, this.$dropdownSelect = t, this._item = n, this._index = i, this.build(), this.render() } get el() { return this._li } build() { let e = this.$root.$store; this._li = document.createElement("li"), this._li.classList.add("list-group-item", "d-flex", "flex-row", "justify-content-between", "p-2", "rounded-0"), this._item.disabled && this._li.classList.add("disabled"), this._li.setAttribute("value", this._item.value), this._li.innerText = this._item.label, this._li.addEventListener("click", t => { let n = e.selectedItems, i = t.currentTarget, s = n.findIndex(e => e.value === i.getAttribute("value")); s > -1 ? n.splice(s, 1) : e.isMultiple ? n.push({ value: i.getAttribute("value"), label: i.innerText }) : (n = [{ value: i.getAttribute("value"), label: i.innerText }], e.isOpened = !1), e.selectedItems = n }) } render() { let e = this.$root.$store; e.selectedItems.find(e => e.value === this._li.getAttribute("value")) ? this._li.classList.add("list-group-item-primary") : this._li.classList.remove("list-group-item-primary"), this._index === e.hoveredItemIndex ? this._li.classList.add("hover") : this._li.classList.remove("hover") } } }, "./src/scss/multiple-select.scss": function (e, t, n) { }, "./src/store/Store.js": function (e, t, n) { "use strict"; var i = n("./node_modules/events/events.js"), s = n.n(i); t.a = class extends s.a { get isMultiple() { return this._isMultiple || !1 } set isMultiple(e) { this._isMultiple = e } get isOpened() { return this._isOpened || !1 } set isOpened(e) { this._isOpened = e, this.emit("isOpenedChange", e) } get items() { return this._items || [] } set items(e) { this._items = e, this.emit("itemsChange", e) } get filteredItems() { return this._items.filter(e => !this._keyword || e.label.toLowerCase().includes(this._keyword.toLowerCase())) } get selectedItems() { return this._selectedItems || [] } set selectedItems(e) { this._selectedItems = e, this.emit("selectedItemsChange", e) } get keyword() { return this._keyword || "" } set keyword(e) { this.keyword !== e.trim() && (this._keyword = e.trim(), this._hoveredItemIndex = null, console.log("keywordChange"), this.emit("keywordChange", e)) } get hoveredItemIndex() { return this._hoveredItemIndex || 0 === this._hoveredItemIndex ? this._hoveredItemIndex : null } set hoveredItemIndex(e) { this._hoveredItemIndex = e, this.emit("hoveredItemIndexChange", e) } } } });
//# sourceMappingURL=/sm/165b245511b8e79e390a1a7507506554c1ed1751f6b7efdf2ab6674c0a0d367f.map